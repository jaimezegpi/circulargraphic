<!DOCTYPE html>
<html>
<head>
	<title>Experimento HTML</title>
	<link href="https://fonts.googleapis.com/css?family=Rajdhani" rel="stylesheet">
</head>
<body style="background-color:#1c1c1c">
	<div id="grafico_circular" style="width: 100px; height: 100px;"></div>

	<script type="text/javascript">

function circularGraphics(e,t,r,a,i,n,l,c){var d=document.getElementById(e);if(!d)return!1;var u=d.offsetWidth,o=d.offsetHeight,w=document.createElement("canvas"),_=document.createAttribute("class");_.value="circular_graphics",w.setAttributeNode(_);var g=document.createAttribute("width");g.value=u+"px",w.setAttributeNode(g);var v=document.createAttribute("height");v.value=o+"px",w.setAttributeNode(v);var p=u/2,h=o/2;p>h?(s=h)<1&&(s=1):(s=p)<1&&(s=1);var s,f=360*t/100*Math.PI/180+1.5*Math.PI;(s=s-25)<0&&(s=0);var m=w.getContext("2d");m.beginPath(),m.arc(p,h,s,1.5*Math.PI,f),m.lineCap="round",m.strokeStyle=r,m.lineWidth=a,m.stroke(),m.beginPath(),m.lineWidth=.1,m.arc(p,h,s,0,2*Math.PI),m.fillStyle=i,m.fill(),m.stroke(),m.beginPath(),m.fillStyle=l,m.lineWidth=1,m.font=c+"px "+n,m.textAlign="center",m.fillText("%",p,h-c/2),m.fillText(t,p,h+c/2),document.getElementById(e).innerHTML="",document.getElementById(e).appendChild(w)}function circularWalker(e,t,r,a,i,n,l,c,d){window.cg_repeater[e]=setInterval(function(){window.cg_repeater_value[e]||(window.cg_repeater_value[e]=0),window.cg_repeater_value[e]<t?window.cg_repeater_value[e]=window.cg_repeater_value[e]+1:window.cg_repeater_value[e]=window.cg_repeater_value[e]-1,circularGraphics(e,window.cg_repeater_value[e],r,a,i,n,l,c),(window.cg_repeater_value[e]==t||window.cg_repeater_value[e]>99)&&clearInterval(window.cg_repeater[e])},d)}window.cg_repeater=[""],window.cg_repeater_value=[];
		/*
		window.cg_repeater=[''];
		window.cg_repeater_value=[]
		function circularGraphics( id,percent, line_color,line_width_px, internal_circle_color, font_name, font_color, font_size ){
			var contenedor = document.getElementById(id);
			if ( !contenedor ){ return false; }
			var contenedor_ancho = contenedor.offsetWidth,
			    contenedor_alto = contenedor.offsetHeight,
			    element = document.createElement("canvas");
			var canvas_att = document.createAttribute("class");
			canvas_att.value = "circular_graphics";
			element.setAttributeNode(canvas_att);
			var canvas_ancho = document.createAttribute("width");
			canvas_ancho.value = contenedor_ancho + "px";
			element.setAttributeNode(canvas_ancho);
			var canvas_alto = document.createAttribute("height");
			canvas_alto.value = contenedor_alto + "px";
			element.setAttributeNode(canvas_alto);
			var canvas_center_w = contenedor_ancho / 2,
			    canvas_center_h = contenedor_alto / 2;
			if (canvas_center_w > canvas_center_h) {
			    var canvas_radio = canvas_center_h;
			    if (canvas_radio<1){ canvas_radio = 1;}
			} else {
			    var canvas_radio = canvas_center_w;
			    if (canvas_radio<1){ canvas_radio = 1;}
			}
			var canvas_radians = (((percent * 360) / 100) * Math.PI / 180) + (1.5 * Math.PI);
			var canvas_radio = canvas_radio - 25;
			if (canvas_radio<0){ canvas_radio = 0; }
			var ctx = element.getContext("2d");
			ctx.beginPath();
			ctx.arc(canvas_center_w, canvas_center_h, canvas_radio, 1.5 * Math.PI, canvas_radians);
			ctx.lineCap = "round";
			ctx.strokeStyle = line_color;
			ctx.lineWidth = line_width_px;
			ctx.stroke();
			ctx.beginPath();
			ctx.lineWidth = 0.1;
			ctx.arc(canvas_center_w, canvas_center_h, canvas_radio, 0, 2 * Math.PI);
			ctx.fillStyle = internal_circle_color;
			ctx.fill();
			ctx.stroke();
			ctx.beginPath();
			ctx.fillStyle = font_color;
			ctx.lineWidth = 1;
			ctx.font = font_size + "px " + font_name;
			ctx.textAlign = "center";
			ctx.fillText("%", canvas_center_w, canvas_center_h - (font_size / 2));
			ctx.fillText(percent, canvas_center_w, canvas_center_h + (font_size / 2));
			document.getElementById(id).innerHTML = "";
			document.getElementById(id).appendChild(element);
		}

		function circularWalker( id,percent, line_color,line_width_px, internal_circle_color, font_name, font_color, font_size, speed ){
				window.cg_repeater[id] = setInterval(function() {
				    if (!window.cg_repeater_value[id]) {
				        window.cg_repeater_value[id] = 0;
				    }
				    if (window.cg_repeater_value[id] < percent) {
				        window.cg_repeater_value[id] = window.cg_repeater_value[id] + 1;
				    } else {
				        window.cg_repeater_value[id] = window.cg_repeater_value[id] - 1;
				    }
				    circularGraphics(id, window.cg_repeater_value[id], line_color, line_width_px, internal_circle_color, font_name, font_color, font_size);
				    if (window.cg_repeater_value[id] == percent || window.cg_repeater_value[id] > 99) {
				        clearInterval(window.cg_repeater[id]);
				    }
				}, speed);
		}
		*/
		/*
		id: Object Id
		percent: Percent in numbers ex: 80 <-- =  80%
		line_color: Percent indicador color
		line_width_px: ancho linea indiocadora de percent en px
		internal_circle_color: Color de relleno del fondo del texto
		font_color: Color de la fuente
		font_size: tamaÃ±o de la fuente
		speed: 0 max speed, 255 sloooow
		*/
		circularWalker('grafico_circular',60,'#fff',3,'rgba(50, 255, 0, 0.5)','Rajdhani','#ffffff','10','100');

	</script>
</body>
</html>